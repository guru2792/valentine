<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Will you be my Valentine?</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
<style>
:root{--accent:#ff4d88;--muted:#6b6b6b}
html,body{
  height:100%;margin:0;font-family:Poppins,sans-serif;
  background:linear-gradient(180deg,#fff7fb,#fff0f6);
  overflow:hidden
}
.wrap{min-height:100%;display:flex;align-items:center;justify-content:center;padding:24px}
.card{
  width:820px;max-width:95%;background:#fff;border-radius:18px;
  box-shadow:0 10px 30px rgba(0,0,0,.08);
  padding:28px;position:relative;z-index:5
}
h1{color:var(--accent);font-size:40px;margin:0}
.lead{color:var(--muted);margin-top:8px}
.buttons{position:relative;margin-top:22px;height:84px}
button{
  padding:14px 22px;border-radius:12px;border:0;
  font-size:16px;font-weight:700;cursor:pointer;
  transition:transform .2s ease,opacity .2s ease
}
.yes{background:linear-gradient(90deg,#ff7ab9,#ff3f7a);color:#fff}
.yes.disabled{opacity:.5;cursor:not-allowed}
.no{
  background:#fff;border:2px solid #ff7ab9;color:var(--accent);
  position:absolute;left:140px;top:0
}
.reply{margin-top:16px;font-size:15px;color:#b44a6a;min-height:26px}
.final{display:none;text-align:center;margin-top:14px}
.final img{
  width:260px;height:260px;border-radius:16px;
  object-fit:cover;box-shadow:0 12px 30px rgba(0,0,0,.12)
}

/* === emotional layers === */
.layer{position:fixed;inset:0;pointer-events:none;z-index:1}

/* clouds */
.cloud{
  position:absolute;font-size:72px;opacity:.18;
  animation:cloudDrift 28s linear infinite
}
@keyframes cloudDrift{
  from{transform:translateX(-300px)}
  to{transform:translateX(calc(100vw + 300px))}
}

/* sparkles / chocolates ‚Äî slow diagonal drift */
.drift{
  position:absolute;font-size:26px;opacity:.7;
  animation:driftSlow 12s linear forwards
}
@keyframes driftSlow{
  from{transform:translate(0,0) scale(.9);opacity:.4}
  to{transform:translate(160px,-180px) scale(1.2);opacity:0}
}

/* petals */
.petal{
  position:absolute;font-size:28px;opacity:.6;
  animation:petalDrift 14s ease-in-out forwards
}
@keyframes petalDrift{
  from{transform:translateY(-60px) rotate(0);opacity:.4}
  to{transform:translateY(120vh) rotate(240deg);opacity:0}
}

/* hearts */
.heart{
  position:absolute;font-size:30px;opacity:.7;
  animation:heartFloat 10s ease-in-out forwards
}
@keyframes heartFloat{
  from{transform:translateY(40px) scale(.9);opacity:.4}
  to{transform:translateY(-260px) scale(1.4);opacity:0}
}

.pulse{animation:pulse .45s ease}
@keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.02)}100%{transform:scale(1)}}

canvas.confetti{position:fixed;inset:0;pointer-events:none;z-index:10}
</style>
</head>
<body>

<div class="layer" id="bgLayer"></div>
<div class="layer" id="fxLayer"></div>

<div class="wrap">
  <div class="card" id="card">
    <h1>Will you be my Valentine?</h1>
    <p class="lead" id="lead">Before you answer‚Ä¶ Dont even try NO üòá</p>

    <div class="buttons" id="buttons">
      <button id="yesBtn" class="yes disabled">Yes ‚ù§Ô∏è</button>
      <button id="noBtn" class="no">No</button>
    </div>

    <div class="reply" id="reply"></div>

    <div class="final" id="final">
      <img id="finalImg">
      <h2 style="color:var(--accent)">She said YES üíñ</h2>
      <p id="finalMsg"></p>
      <button class="yes" onclick="location.reload()">Replay</button>
    </div>
  </div>
</div>

<canvas class="confetti" id="confetti"></canvas>

<script>
const finalImageSrc="partner.jpg";
const finalMessageText="Thank you for always choosing me. You are my calm, my chaos, and my home. Happy Valentine‚Äôs Month ‚ù§Ô∏è and Welcome back home ";

const steps=[
 { text:"Oh. Starting with no huh üòÖ", anim:"clouds" },
 { text:"Wait‚Ä¶ you didn‚Äôt even think about it ü•≤", anim:"clouds" },
 { text:"But I get you chocolates na üç´", anim:"drift" },
 { text:"Extra chocolates. Dark. Your favorite üòå", anim:"drift" },
 { text:"Chocolates + hugs combo deal ü§ç", anim:"petals" },
 { text:"Okay‚Ä¶ now I‚Äôm emotionally invested üò≠", anim:"petals" },
 { text:"Alright‚Ä¶ I‚Äôll stop running now ü•π", anim:"hearts" }
];

const moveIndices=[1,3,5,6];
let noCount=0,moveCount=0,yesUnlocked=false;

const noBtn=document.getElementById("noBtn");
const yesBtn=document.getElementById("yesBtn");
const reply=document.getElementById("reply");
const final=document.getElementById("final");
const finalImg=document.getElementById("finalImg");
const finalMsg=document.getElementById("finalMsg");
const card=document.getElementById("card");
const bgLayer=document.getElementById("bgLayer");
const fxLayer=document.getElementById("fxLayer");

initClouds();

noBtn.onclick=()=>{
 const step=steps[Math.min(noCount,steps.length-1)];
 reply.textContent=step.text;
 card.classList.add("pulse");
 setTimeout(()=>card.classList.remove("pulse"),400);

 runAnim(step.anim);

 if(!yesUnlocked){
  yesUnlocked=true;
  yesBtn.classList.remove("disabled");
  document.getElementById("lead").textContent="Okay‚Ä¶ now you can say Yes üòå";
 }

 if(moveIndices.includes(noCount) && moveCount<4){
  dodge(); moveCount++;
 }

 if(noCount===steps.length-1){
  settle();
 }

 noCount++;
};

yesBtn.onclick=()=>{ if(yesUnlocked) accept(); };

function initClouds(){
 for(let i=0;i<4;i++){
  const c=document.createElement("div");
  c.className="cloud";
  c.textContent="‚òÅÔ∏è";
  c.style.top=Math.random()*60+"%";
  c.style.left=(-400-Math.random()*600)+"px";
  c.style.animationDelay=i*5+"s";
  bgLayer.appendChild(c);
 }
}

function runAnim(type){
 if(type==="clouds") addClouds(1);
 if(type==="drift") addDrifters(10);
 if(type==="petals") addPetals(10);
 if(type==="hearts") addHearts(8);
}

function addClouds(n){
 for(let i=0;i<n;i++){
  const c=document.createElement("div");
  c.className="cloud";
  c.textContent="‚òÅÔ∏è";
  c.style.top=Math.random()*60+"%";
  c.style.left="-300px";
  fxLayer.appendChild(c);
  setTimeout(()=>c.remove(),28000);
 }
}

function addDrifters(n){
 for(let i=0;i<n;i++){
  const d=document.createElement("div");
  d.className="drift";
  d.textContent=["üç´","‚ú®","ü§é"][Math.floor(Math.random()*3)];
  d.style.left=Math.random()*100+"vw";
  d.style.top=Math.random()*100+"vh";
  d.style.animationDelay=Math.random()*3+"s";
  fxLayer.appendChild(d);
  setTimeout(()=>d.remove(),12000);
 }
}

function addPetals(n){
 for(let i=0;i<n;i++){
  const p=document.createElement("div");
  p.className="petal";
  p.textContent=["üå∏","üçÉ","üíÆ"][Math.floor(Math.random()*3)];
  p.style.left=Math.random()*100+"vw";
  p.style.top="-60px";
  p.style.animationDelay=Math.random()*4+"s";
  fxLayer.appendChild(p);
  setTimeout(()=>p.remove(),14000);
 }
}

function addHearts(n){
 for(let i=0;i<n;i++){
  const h=document.createElement("div");
  h.className="heart";
  h.textContent="üíñ";
  h.style.left=Math.random()*100+"vw";
  h.style.top=Math.random()*80+"vh";
  h.style.animationDelay=Math.random()*3+"s";
  fxLayer.appendChild(h);
  setTimeout(()=>h.remove(),10000);
 }
}

function dodge(){
 noBtn.style.left=Math.random()*300+"px";
}

function settle(){
 noBtn.textContent="I changed my mind ‚ù§Ô∏è";
 noBtn.className="yes";
 noBtn.onclick=accept;
}

function accept(){
 document.getElementById("buttons").style.display="none";
 reply.style.display="none";
 final.style.display="block";
 finalMsg.textContent=finalMessageText;

 const img=new Image();
 img.onload=()=>finalImg.src=finalImageSrc;
 img.onerror=()=>finalImg.src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='400' height='400'><text x='60' y='220' font-size='120'>‚ù§Ô∏è</text></svg>";
 img.src=finalImageSrc;

 confetti();
}

function confetti(){
 const c=document.getElementById("confetti");
 const x=c.getContext("2d");
 c.width=innerWidth;c.height=innerHeight;
 const p=[...Array(120)].map(()=>({x:Math.random()*c.width,y:Math.random()*c.height,d:Math.random()*4+2}));
 let t=0;
 (function draw(){
  x.clearRect(0,0,c.width,c.height);
  p.forEach(o=>{x.fillStyle="#ff4d88";x.fillRect(o.x,o.y,6,6);o.y+=o.d;if(o.y>c.height)o.y=0});
  if(t++<240)requestAnimationFrame(draw);
 })();
}
</script>
</body>
</html>
